<!DOCTYPE html>
<html lang="en">
 
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>All Firebase Data In Table</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
 
<body>
<div class="container mt-3">
 
    <table class="table table-dark">
<thead>
    <th>No</th>
    <th>endDate</th>
    <th>firstName</th>
    <th>points</th>
    <th>RoomType</th>
    <th>startDate</th>
</thead>
<tbody id="tbody1"></tbody>
 
</table>
</div>
 
<script type = "module">
//FIlling in the table
 var No = 0;
 var tbody = document.getElementById('tbody1');  

function AddItemToTable(No,endDate, firstName, points, RoomType, startDate){

    let trow =document.createElement("tr");
    let td1 = document.createElement('td');
    let td2 = document.createElement('td');
    let td3 = document.createElement('td');
    let td4 = document.createElement('td');
    let td5 = document.createElement('td');
    let td6 = document.createElement('td');
 
    td1.innerHTML= ++No;
    td2.innerHTML= endDate;
    td3.innerHTML = firstName;
    td4.innerHTMl = points;
    td5.innterHTML = RoomType;
    td6.innterHTML = startDate;
   
 
    trow.appendChild(td1);
    trow.appendChild(td2);
    trow.appendChild(td3);
    trow.appendChild(td4);
    trow.appendChild(td5);
    trow.appendChild(td6);
 
    tbody.appendChild(trow);
}
    function AddAllItemsToTable(ReservationForm)
    {
        No = 0;
        tbody.innerHTML="";
        ReservationForm.forEach(element =>{

            AddItemToTable(element.endDate, firstName, points, RoomType, startDate);
        });
    }
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.7.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.7.0/firebase-analytics.js";
  
  const firebaseConfig = {
    apiKey: "AIzaSyBUd3D-JWc_oHV3wSsA9TpN3nECMVEAJ8Q",
    authDomain: "hotel-paradise-ea650.firebaseapp.com",
    databaseURL: "https://hotel-paradise-ea650-default-rtdb.firebaseio.com",
    projectId: "hotel-paradise-ea650",
    storageBucket: "hotel-paradise-ea650.appspot.com",
    messagingSenderId: "365706166780",
    appId: "1:365706166780:web:3de24626e06b8607f8b279",
    measurementId: "G-SNNGVJGRLY"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);

 import { getDatabase, ref, child, onValue, get}
 //from "https://www.gstatic.com/firebasejs/9.7.0/firebase-analytics.js";

 from "https://www.gstatic./firebasejs/9.7.0/firebase-database.js";

 const db = getDatabase();

  
 
//---------Getting all Data--------------//

 //GETTING ALL DATA
 function GetAllDataOnce(){
    const dbRef = red(db);

get(child(dbRef, "ReservationForm"))
.then((snapshot) =>{


    var ReservationForm = [];
 
    snapshot.forEach(childSnapshot => {
       ReservationForm.push(childSnapshot.val());
});
AddAllItemsToTable(ReservationForm);
});
}

function GetAllDataRealtime(){
    const dbRef = red(db, "ReservationForm" );

onValue(dbRef,(snapshot) => {
    var ReservationForm = [];
 
 snapshot.forEach(childSnapshot => {
    ReservationForm.push(childSnapshot.val());
});
AddAllItemsToTable(ReservationForm);


})

}



window.onload = GetAllDataRealtime;  

</script>
</body>
</html>